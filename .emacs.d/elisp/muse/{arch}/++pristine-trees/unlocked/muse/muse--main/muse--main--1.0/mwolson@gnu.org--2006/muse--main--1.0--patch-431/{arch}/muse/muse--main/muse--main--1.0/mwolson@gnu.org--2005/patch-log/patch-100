Revision: muse--main--1.0--patch-100
Archive: mwolson@gnu.org--2005
Creator: Michael Olson <mwolson@gnu.org>
Date: Thu Jul  7 00:36:53 EST 2005
Standard-date: 2005-07-07 05:36:53 GMT
Modified-files: ChangeLog lisp/muse-mode.el
    lisp/muse-project.el lisp/muse-regexps.el lisp/muse.el
New-patches: mwolson@gnu.org--2005/muse--main--1.0--patch-100
Summary: Implement optional file extension of Muse files.
Keywords: 

* lisp/muse-mode.el (muse-mode): Make sure
  `muse-update-ignored-extensions-regexp' gets updated every time we
  enter Muse mode.  This works around a bug in the customize interface --
  if a user changes an option using setq, the :set function sometimes
  does not get executed.  I should really try to determine whether or not
  this is really an issue anymore.

* lisp/muse-project.el (muse-project-find-file): Make use of
  `muse-file-extension'.

* lisp/muse-regexps.el (muse-ignored-extensions-regexp): This is not
  customizable; it is autogenerated from `muse-ignored-extensions'.
  (muse-update-ignored-extensions-regexp): New function that sets the
  value of `muse-ignored-extensions-regexp'.  This is needed in order to
  make sure that the value of `muse-file-extension' is taken into
  account.
  (muse-ignored-extensions): New option that determines which file
  extensions to ignore.  It is in the form of a list of regexps.

* lisp/muse.el (muse-file-extension): New option that allows the user to
  specify the file extension to be used for Muse files.  By default, this
  is nil, which means that no extension will be used.

* lisp/muse.el (muse-page-name): Handle case where
  `muse-ignored-extensions-regexp' is nil.

